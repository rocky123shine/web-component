<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="format-detection" content="telephone = no">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>原生H5通信demo</title>
    <style type="text/css">
        .item {
            padding: 20px;
            max-width: 600px;
            margin: 0 auto;
            text-align: center;
            background-color: #999999;
            margin-top: 20px;
        }


    </style>
    <script>
        function callAppToast() {
            console.log("callAppToast.........")
            //此时需要通js 传递到native
            messagejs.executeNativeAction("showToast", {message: "this is a message from html."});
        }
        function openMainActivity() {
            console.log("openMainActivity.........")
            messagejs.executeNativeAction("openActivity", {target_class: "com.rocky.webview_component.MainActivityA"});


        }
        function openOtherMainActivity() {
            console.log("openOtherMainActivity.........")
            messagejs.executeNativeAction("openActivity", {target_class: "com.rocky.webview_component.MainActivityB"});

        }
        function loginGetResult() {
            console.log("loginGetResult.........")
            messagejs.executeNativeActionWithCallback("login", {},function(res){
                console.log(res)
                const element = document.createElement("div");
                console.log("res====="+res)
                element.appendChild(document.createTextNode("userName:"+res.accountName))
                document.getElementById("login_id").appendChild(element)
            });

        }


    </script>
    <script src="messagejs.js"></script>
</head>
<body style="height: 100%">
<div class="item" style="font-size: 20px;color: #ffffff" onclick="callAppToast()">调用：showToast</div>
<div class="item" style="font-size: 20px;color: #ffffff" onclick="openMainActivity()">
    打开MainProcessTestActivity
</div>
<div class="item" style="font-size: 20px;color: #ffffff" onclick="openOtherMainActivity()">
    打开另一个主进程的activity
</div>
<div class="item" id="login_id" style="font-size: 20px;color: #ffffff" onclick="loginGetResult()">登录并返回结果</div>


</body>
</html>
